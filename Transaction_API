import json
print("Loading function")

def lambda_handler(event,context):
    #1.parse out query string parameters
    transactionId=event['queryStringParameters']['transactionId']
    transactionType=event['queryStringParameters']['type']
    transactionAmount=event['queryStringParameters']['amount']
    
    print('transactionId=',transactionId)
    print('transactionType=',transactionType)
    print('transactionAmount=',transactionAmount)
    
    #2.construct the body of the response object
    transactionResponse={}
    transactionResponse['transactionId']=transactionId
    transactionResponse['type']=transactionType
    transactionResponse['amount']=transactionAmount
    transactionResponse['message']="Hello from AWS lambda"
    
    #3.Construct http response object
    responseObject={}
    responseObject['statusCode']=200
    responseObject['headers']={}
    responseObject['headers']['Content_Type']='application/json'
    responseObject['body']=json.dumps(transactionResponse)
    
    #4. Return the response object
    return responseObject
    
    
    
